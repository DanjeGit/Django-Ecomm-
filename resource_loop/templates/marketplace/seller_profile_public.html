{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
    <!-- Seller Header -->
    <div class="card border-0 shadow-sm rounded-4 overflow-hidden mb-5">
        <div class="card-body p-5">
            <div class="row align-items-center">
                <div class="col-md-3 text-center mb-4 mb-md-0">
                    {% if seller.profile_image %}
                        <img src="{{ seller.profile_image.url }}" alt="{{ seller.business_name }}" class="rounded-circle img-thumbnail shadow-sm" style="width: 150px; height: 150px; object-fit: cover;">
                    {% else %}
                        <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center mx-auto" style="width: 150px; height: 150px;">
                            <span class="display-4 fw-bold text-primary">{{ seller.business_name|first|upper }}</span>
                        </div>
                    {% endif %}
                </div>
                <div class="col-md-9">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h1 class="fw-bold mb-2">{{ seller.business_name }}</h1>
                            <div class="mb-3">
                                {% if seller.is_verified %}
                                    <span class="badge bg-success rounded-pill me-2"><i class="fa-solid fa-check-circle me-1"></i>Verified Seller</span>
                                {% endif %}
                                <span class="text-muted"><i class="fa-solid fa-location-dot me-1"></i>{{ seller.county|default:"Location not set" }}{% if seller.sub_county %}, {{ seller.sub_county }}{% endif %}</span>
                            </div>
                            <p class="text-muted mb-0">{{ seller.description|default:"No description provided." }}</p>
                        </div>
                        <div class="text-end">
                            <div class="small text-muted mb-1">Member since</div>
                            <div class="fw-bold">{{ seller.user.date_joined|date:"M Y" }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Seller Items -->
    <h3 class="fw-bold mb-4">Items for Sale</h3>
    
    <div class="row g-4">
        {% for item in items %}
        <div class="col-md-6 col-lg-3">
            {% include 'marketplace/item_card.html' with item=item %}
        </div>
        {% empty %}
        <div class="col-12 text-center py-5">
            <div class="mb-3">
                <i class="fa-solid fa-box-open fa-3x text-muted opacity-50"></i>
            </div>
            <h5 class="text-muted">No active listings found.</h5>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}